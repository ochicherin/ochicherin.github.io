<HTML>
  <HEAD>
  <TITLE id=title>Чичерин Олег</TITLE>
  <META http-equiv=Content-Type content="text/html; charset=utf-8">
  <script src="/script.js"></script>
  <LINK href="/index_files/style.css" type=text/css rel=stylesheet>
</HEAD>
<BODY onLoad="initBody();">
  <H1>Пример локальной загрузки/выгрузки файлов.</H1>

<H3>  Загрузка в html текст.</H3>
  Выберите файл для загрузки : <input type="file" id="input" onChange="openFile(event,'output')">
    <script type="text/javascript"> 
     var openFile = function(event,key) {
       var input = event.target;
       var reader = new FileReader();
       reader.onload = function(){
         document.getElementById(key).textContent=reader.result; 
       };
      reader.readAsText(input.files[0]);
     };
    </script>
    <hr> 
    <pre id="output"></pre> 
    <hr> 

<H3>Загрузка в экранную форму.</H3>
<form onsubmit="download(this['name'].value, this['text'].value)">
  Имя файла : <input type="text" name="name" value="test.txt" width=30><br>
  <input type="submit" value="Выгрузить"><br>
  <textarea name="text" rows="10" cols="45" id="textcsv">Hello world. Русский текст.</textarea><br>
  Выберите файл для загрузки : <input type="file" id="inputfile" onChange="openFileForm(event)">
    <script type="text/javascript"> 
     var openFileForm = function(event) {
       var input = event.target;
       var reader = new FileReader();
       reader.onload = function(){
         input.form['name'].value = input.files[0].name;
         input.form['text'].value = reader.result;
       };
      reader.readAsText(input.files[0]);
     };
    </script>
</form>      
  

</BODY>
</HTML>
